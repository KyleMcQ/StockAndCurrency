using System;
using System.Text;
using System.Windows.Forms;
using Newtonsoft.Json.Linq;
using static System.Windows.Forms.VisualStyles.VisualStyleElement;

namespace WinFormsApp3
{
    public partial class MainForm : Form
    {
        private ApiServices _alphaVantageService;
        private ChartManager _chartManager;

        private Panel chartPanel1; // Panel that contains the chart and associated controls.

        public MainForm()
        {
            InitializeComponent();
            _alphaVantageService = new ApiServices();
            _chartManager = new ChartManager(chart1, dataGridView1, listView1);

            // Initialize panels

            // Add the panels to the form, but only one is visible at a time
            this.Controls.Add(chartPanel1);
            this.Controls.Add(newsPanel1);
            chartPanel1.Visible = true; // Start with the chart visible
            newsPanel1.Visible = false; // News panel is hidden initially

        }

        // Call this method to display the stock chart
        private void ShowStockDataPanel()
        {
            chartPanel1.Visible = true;
            newsPanel1.Visible = false;
            Console.WriteLine("Show Stock");
        }

        // Call this method to display the news articles
        private void ShowNewsArticlesPanel()
        {
            chartPanel1.Visible = false;
            newsPanel1.Visible = true;
            Console.WriteLine("Show News");
        }

        private async void FetchDataButton_Async_Click(object sender, EventArgs e)
        {
            string symbol = SymbolTextBox.Text.Trim().ToUpper();
            try
            {
                //Calls https service
                JObject data = await _alphaVantageService.GetTimeSeriesAsync(symbol);
                _chartManager.DisplayStockData(data);
                labelTimeZone.Text = (string)data["Meta Data"]["6. Time Zone"];
                labelSymbol.Text = (string)data["Meta Data"]["2. Symbol"];
                labelInformation.Text = (string)data["Meta Data"]["1. Information"];
                labelLastRefreshed.Text = (string)data["Meta Data"]["3. Last Refreshed"];
                ShowStockDataPanel();


            }
            catch (Exception ex)
            {
                MessageBox.Show("Error occurred: " + ex.Message);
            }

        }

        private async void FindData_Click(object sender, EventArgs e)
        {
            string symbol = SymbolTextBox.Text.Trim().ToUpper();
            string from = "2023-08-15";
            string to = "2023-08-20";
            // Predetermined Dates Fields couldve been added but json results woudlve been too long to display
            try
            {
                JArray newsData = await _alphaVantageService.GetCompanyNewsAsync(symbol, from, to);
                _chartManager.DisplayNews(newsData);


                //newsForm.Show();
                ShowNewsArticlesPanel();


            }
            catch (Exception ex)
            {
                MessageBox.Show("Error occurred: " + ex.Message);
            }


        }

        private void callJson_Click(object sender, EventArgs e)
        {
            string JsonString = "{\r\n  \"Meta Data\": {\r\n    \"1. Information\": \"Intraday (5min) open, high, low, close prices and volume\",\r\n    \"2. Symbol\": \"GOOGL\",\r\n    \"3. Last Refreshed\": \"2023-10-11 19:55:00\",\r\n    \"4. Interval\": \"5min\",\r\n    \"5. Output Size\": \"Compact\",\r\n    \"6. Time Zone\": \"US/Eastern\"\r\n  },\r\n  \"Time Series (5min)\": {\r\n    \"2023-10-11 19:55:00\": {\r\n      \"1. open\": \"140.9900\",\r\n      \"2. high\": \"141.2500\",\r\n      \"3. low\": \"140.9300\",\r\n      \"4. close\": \"141.2000\",\r\n      \"5. volume\": \"3142\"\r\n    },\r\n    \"2023-10-11 19:50:00\": {\r\n      \"1. open\": \"141.1650\",\r\n      \"2. high\": \"141.1650\",\r\n      \"3. low\": \"140.9300\",\r\n      \"4. close\": \"141.0100\",\r\n      \"5. volume\": \"5672\"\r\n    },\r\n    \"2023-10-11 19:45:00\": {\r\n      \"1. open\": \"141.2000\",\r\n      \"2. high\": \"141.2200\",\r\n      \"3. low\": \"141.1000\",\r\n      \"4. close\": \"141.1300\",\r\n      \"5. volume\": \"1868\"\r\n    },\r\n    \"2023-10-11 19:40:00\": {\r\n      \"1. open\": \"141.1600\",\r\n      \"2. high\": \"141.2200\",\r\n      \"3. low\": \"141.1000\",\r\n      \"4. close\": \"141.1200\",\r\n      \"5. volume\": \"187\"\r\n    },\r\n    \"2023-10-11 19:35:00\": {\r\n      \"1. open\": \"141.1000\",\r\n      \"2. high\": \"141.2500\",\r\n      \"3. low\": \"141.1000\",\r\n      \"4. close\": \"141.1600\",\r\n      \"5. volume\": \"3339\"\r\n    },\r\n    \"2023-10-11 19:30:00\": {\r\n      \"1. open\": \"141.1300\",\r\n      \"2. high\": \"141.2800\",\r\n      \"3. low\": \"141.1000\",\r\n      \"4. close\": \"141.1000\",\r\n      \"5. volume\": \"1148\"\r\n    },\r\n    \"2023-10-11 19:25:00\": {\r\n      \"1. open\": \"141.1100\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0900\",\r\n      \"4. close\": \"141.1500\",\r\n      \"5. volume\": \"557\"\r\n    },\r\n    \"2023-10-11 19:20:00\": {\r\n      \"1. open\": \"141.1000\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0800\",\r\n      \"4. close\": \"141.0900\",\r\n      \"5. volume\": \"1624\"\r\n    },\r\n    \"2023-10-11 19:15:00\": {\r\n      \"1. open\": \"141.1000\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0800\",\r\n      \"4. close\": \"141.0800\",\r\n      \"5. volume\": \"217\"\r\n    },\r\n    \"2023-10-11 19:10:00\": {\r\n      \"1. open\": \"141.1850\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0800\",\r\n      \"4. close\": \"141.2000\",\r\n      \"5. volume\": \"777\"\r\n    },\r\n    \"2023-10-11 19:05:00\": {\r\n      \"1. open\": \"141.2000\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1700\",\r\n      \"4. close\": \"141.2000\",\r\n      \"5. volume\": \"191\"\r\n    },\r\n    \"2023-10-11 19:00:00\": {\r\n      \"1. open\": \"141.2000\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1700\",\r\n      \"4. close\": \"141.1850\",\r\n      \"5. volume\": \"987\"\r\n    },\r\n    \"2023-10-11 18:55:00\": {\r\n      \"1. open\": \"141.1710\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1700\",\r\n      \"4. close\": \"141.2000\",\r\n      \"5. volume\": \"1231\"\r\n    },\r\n    \"2023-10-11 18:50:00\": {\r\n      \"1. open\": \"141.1700\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1700\",\r\n      \"4. close\": \"141.1850\",\r\n      \"5. volume\": \"312\"\r\n    },\r\n    \"2023-10-11 18:45:00\": {\r\n      \"1. open\": \"141.1700\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1700\",\r\n      \"4. close\": \"141.1700\",\r\n      \"5. volume\": \"1931\"\r\n    },\r\n    \"2023-10-11 18:40:00\": {\r\n      \"1. open\": \"141.1750\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0900\",\r\n      \"4. close\": \"141.0900\",\r\n      \"5. volume\": \"1978\"\r\n    },\r\n    \"2023-10-11 18:35:00\": {\r\n      \"1. open\": \"141.1600\",\r\n      \"2. high\": \"141.1900\",\r\n      \"3. low\": \"141.1600\",\r\n      \"4. close\": \"141.1750\",\r\n      \"5. volume\": \"348\"\r\n    },\r\n    \"2023-10-11 18:30:00\": {\r\n      \"1. open\": \"141.1550\",\r\n      \"2. high\": \"141.1750\",\r\n      \"3. low\": \"141.0800\",\r\n      \"4. close\": \"141.1750\",\r\n      \"5. volume\": \"2435\"\r\n    },\r\n    \"2023-10-11 18:25:00\": {\r\n      \"1. open\": \"141.0700\",\r\n      \"2. high\": \"141.1600\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.1020\",\r\n      \"5. volume\": \"4608\"\r\n    },\r\n    \"2023-10-11 18:20:00\": {\r\n      \"1. open\": \"141.0750\",\r\n      \"2. high\": \"141.1500\",\r\n      \"3. low\": \"141.0000\",\r\n      \"4. close\": \"141.0100\",\r\n      \"5. volume\": \"420\"\r\n    },\r\n    \"2023-10-11 18:15:00\": {\r\n      \"1. open\": \"141.0000\",\r\n      \"2. high\": \"141.1500\",\r\n      \"3. low\": \"141.0000\",\r\n      \"4. close\": \"141.0750\",\r\n      \"5. volume\": \"857\"\r\n    },\r\n    \"2023-10-11 18:10:00\": {\r\n      \"1. open\": \"141.1100\",\r\n      \"2. high\": \"141.1600\",\r\n      \"3. low\": \"140.9600\",\r\n      \"4. close\": \"141.0400\",\r\n      \"5. volume\": \"647\"\r\n    },\r\n    \"2023-10-11 18:05:00\": {\r\n      \"1. open\": \"141.1800\",\r\n      \"2. high\": \"141.1800\",\r\n      \"3. low\": \"140.9300\",\r\n      \"4. close\": \"141.0400\",\r\n      \"5. volume\": \"328\"\r\n    },\r\n    \"2023-10-11 18:00:00\": {\r\n      \"1. open\": \"141.1300\",\r\n      \"2. high\": \"141.1800\",\r\n      \"3. low\": \"140.9300\",\r\n      \"4. close\": \"141.0000\",\r\n      \"5. volume\": \"601\"\r\n    },\r\n    \"2023-10-11 17:55:00\": {\r\n      \"1. open\": \"141.1300\",\r\n      \"2. high\": \"141.1900\",\r\n      \"3. low\": \"141.0700\",\r\n      \"4. close\": \"141.0700\",\r\n      \"5. volume\": \"984\"\r\n    },\r\n    \"2023-10-11 17:50:00\": {\r\n      \"1. open\": \"141.1900\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0700\",\r\n      \"4. close\": \"141.0700\",\r\n      \"5. volume\": \"401\"\r\n    },\r\n    \"2023-10-11 17:45:00\": {\r\n      \"1. open\": \"141.2000\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1100\",\r\n      \"4. close\": \"141.1900\",\r\n      \"5. volume\": \"606\"\r\n    },\r\n    \"2023-10-11 17:40:00\": {\r\n      \"1. open\": \"141.1400\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.1200\",\r\n      \"4. close\": \"141.2000\",\r\n      \"5. volume\": \"345\"\r\n    },\r\n    \"2023-10-11 17:35:00\": {\r\n      \"1. open\": \"141.1200\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"141.0800\",\r\n      \"4. close\": \"141.1300\",\r\n      \"5. volume\": \"1147\"\r\n    },\r\n    \"2023-10-11 17:30:00\": {\r\n      \"1. open\": \"141.1980\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"135.9410\",\r\n      \"4. close\": \"141.1200\",\r\n      \"5. volume\": \"795\"\r\n    },\r\n    \"2023-10-11 17:25:00\": {\r\n      \"1. open\": \"141.0900\",\r\n      \"2. high\": \"141.2400\",\r\n      \"3. low\": \"141.0900\",\r\n      \"4. close\": \"141.1200\",\r\n      \"5. volume\": \"1202\"\r\n    },\r\n    \"2023-10-11 17:20:00\": {\r\n      \"1. open\": \"141.0200\",\r\n      \"2. high\": \"141.1450\",\r\n      \"3. low\": \"141.0200\",\r\n      \"4. close\": \"141.1450\",\r\n      \"5. volume\": \"461\"\r\n    },\r\n    \"2023-10-11 17:15:00\": {\r\n      \"1. open\": \"140.9950\",\r\n      \"2. high\": \"141.1000\",\r\n      \"3. low\": \"140.9900\",\r\n      \"4. close\": \"141.0200\",\r\n      \"5. volume\": \"16679\"\r\n    },\r\n    \"2023-10-11 17:10:00\": {\r\n      \"1. open\": \"141.0200\",\r\n      \"2. high\": \"141.0540\",\r\n      \"3. low\": \"140.9000\",\r\n      \"4. close\": \"140.9950\",\r\n      \"5. volume\": \"9787\"\r\n    },\r\n    \"2023-10-11 17:05:00\": {\r\n      \"1. open\": \"141.0300\",\r\n      \"2. high\": \"141.0500\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.0120\",\r\n      \"5. volume\": \"2295\"\r\n    },\r\n    \"2023-10-11 17:00:00\": {\r\n      \"1. open\": \"141.0600\",\r\n      \"2. high\": \"141.0900\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.0300\",\r\n      \"5. volume\": \"1023\"\r\n    },\r\n    \"2023-10-11 16:55:00\": {\r\n      \"1. open\": \"141.0350\",\r\n      \"2. high\": \"141.1000\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.0900\",\r\n      \"5. volume\": \"904\"\r\n    },\r\n    \"2023-10-11 16:50:00\": {\r\n      \"1. open\": \"141.0500\",\r\n      \"2. high\": \"141.0600\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.0500\",\r\n      \"5. volume\": \"2297\"\r\n    },\r\n    \"2023-10-11 16:45:00\": {\r\n      \"1. open\": \"141.0900\",\r\n      \"2. high\": \"141.1000\",\r\n      \"3. low\": \"141.0100\",\r\n      \"4. close\": \"141.0100\",\r\n      \"5. volume\": \"1789\"\r\n    },\r\n    \"2023-10-11 16:40:00\": {\r\n      \"1. open\": \"141.0900\",\r\n      \"2. high\": \"141.1500\",\r\n      \"3. low\": \"141.0400\",\r\n      \"4. close\": \"141.0600\",\r\n      \"5. volume\": \"1209\"\r\n    },\r\n    \"2023-10-11 16:35:00\": {\r\n      \"1. open\": \"141.1500\",\r\n      \"2. high\": \"141.1900\",\r\n      \"3. low\": \"140.9200\",\r\n      \"4. close\": \"141.0900\",\r\n      \"5. volume\": \"17897\"\r\n    },\r\n    \"2023-10-11 16:30:00\": {\r\n      \"1. open\": \"141.0600\",\r\n      \"2. high\": \"141.1900\",\r\n      \"3. low\": \"141.0300\",\r\n      \"4. close\": \"141.1300\",\r\n      \"5. volume\": \"4820\"\r\n    },\r\n    \"2023-10-11 16:25:00\": {\r\n      \"1. open\": \"141.1650\",\r\n      \"2. high\": \"141.2000\",\r\n      \"3. low\": \"140.5500\",\r\n      \"4. close\": \"141.0300\",\r\n      \"5. volume\": \"7021\"\r\n    },\r\n    \"2023-10-11 16:20:00\": {\r\n      \"1. open\": \"141.2300\",\r\n      \"2. high\": \"141.3280\",\r\n      \"3. low\": \"140.5500\",\r\n      \"4. close\": \"141.1400\",\r\n      \"5. volume\": \"6679\"\r\n    },\r\n    \"2023-10-11 16:15:00\": {\r\n      \"1. open\": \"140.5500\",\r\n      \"2. high\": \"141.4800\",\r\n      \"3. low\": \"140.5500\",\r\n      \"4. close\": \"141.1900\",\r\n      \"5. volume\": \"20338\"\r\n    },\r\n    \"2023-10-11 16:10:00\": {\r\n      \"1. open\": \"140.8670\",\r\n      \"2. high\": \"140.9600\",\r\n      \"3. low\": \"140.5500\",\r\n      \"4. close\": \"140.9600\",\r\n      \"5. volume\": \"11729\"\r\n    },\r\n    \"2023-10-11 16:05:00\": {\r\n      \"1. open\": \"140.8500\",\r\n      \"2. high\": \"140.8900\",\r\n      \"3. low\": \"140.5500\",\r\n      \"4. close\": \"140.8550\",\r\n      \"5. volume\": \"94446\"\r\n    },\r\n    \"2023-10-11 16:00:00\": {\r\n      \"1. open\": \"140.5650\",\r\n      \"2. high\": \"140.9000\",\r\n      \"3. low\": \"140.3320\",\r\n      \"4. close\": \"140.8500\",\r\n      \"5. volume\": \"5964705\"\r\n    },\r\n    \"2023-10-11 15:55:00\": {\r\n      \"1. open\": \"140.4800\",\r\n      \"2. high\": \"140.6600\",\r\n      \"3. low\": \"140.4400\",\r\n      \"4. close\": \"140.5650\",\r\n      \"5. volume\": \"1017100\"\r\n    },\r\n    \"2023-10-11 15:50:00\": {\r\n      \"1. open\": \"140.4800\",\r\n      \"2. high\": \"140.5950\",\r\n      \"3. low\": \"140.4100\",\r\n      \"4. close\": \"140.4850\",\r\n      \"5. volume\": \"674473\"\r\n    },\r\n    \"2023-10-11 15:45:00\": {\r\n      \"1. open\": \"140.5800\",\r\n      \"2. high\": \"140.6500\",\r\n      \"3. low\": \"140.4750\",\r\n      \"4. close\": \"140.4950\",\r\n      \"5. volume\": \"459856\"\r\n    },\r\n    \"2023-10-11 15:40:00\": {\r\n      \"1. open\": \"140.4800\",\r\n      \"2. high\": \"140.5800\",\r\n      \"3. low\": \"140.4300\",\r\n      \"4. close\": \"140.5750\",\r\n      \"5. volume\": \"306776\"\r\n    },\r\n    \"2023-10-11 15:35:00\": {\r\n      \"1. open\": \"140.4090\",\r\n      \"2. high\": \"140.4940\",\r\n      \"3. low\": \"140.3200\",\r\n      \"4. close\": \"140.4700\",\r\n      \"5. volume\": \"226207\"\r\n    },\r\n    \"2023-10-11 15:30:00\": {\r\n      \"1. open\": \"140.4360\",\r\n      \"2. high\": \"140.5400\",\r\n      \"3. low\": \"140.3700\",\r\n      \"4. close\": \"140.4150\",\r\n      \"5. volume\": \"221009\"\r\n    },\r\n    \"2023-10-11 15:25:00\": {\r\n      \"1. open\": \"140.3500\",\r\n      \"2. high\": \"140.5300\",\r\n      \"3. low\": \"140.2750\",\r\n      \"4. close\": \"140.4400\",\r\n      \"5. volume\": \"191834\"\r\n    },\r\n    \"2023-10-11 15:20:00\": {\r\n      \"1. open\": \"140.1280\",\r\n      \"2. high\": \"140.3500\",\r\n      \"3. low\": \"140.0520\",\r\n      \"4. close\": \"140.3470\",\r\n      \"5. volume\": \"324865\"\r\n    },\r\n    \"2023-10-11 15:15:00\": {\r\n      \"1. open\": \"140.3000\",\r\n      \"2. high\": \"140.3000\",\r\n      \"3. low\": \"140.0200\",\r\n      \"4. close\": \"140.1300\",\r\n      \"5. volume\": \"242498\"\r\n    },\r\n    \"2023-10-11 15:10:00\": {\r\n      \"1. open\": \"140.3500\",\r\n      \"2. high\": \"140.3800\",\r\n      \"3. low\": \"140.2800\",\r\n      \"4. close\": \"140.2800\",\r\n      \"5. volume\": \"133955\"\r\n    },\r\n    \"2023-10-11 15:05:00\": {\r\n      \"1. open\": \"140.3800\",\r\n      \"2. high\": \"140.3800\",\r\n      \"3. low\": \"140.2050\",\r\n      \"4. close\": \"140.3400\",\r\n      \"5. volume\": \"124898\"\r\n    },\r\n    \"2023-10-11 15:00:00\": {\r\n      \"1. open\": \"140.3200\",\r\n      \"2. high\": \"140.4500\",\r\n      \"3. low\": \"140.2400\",\r\n      \"4. close\": \"140.3850\",\r\n      \"5. volume\": \"124809\"\r\n    },\r\n    \"2023-10-11 14:55:00\": {\r\n      \"1. open\": \"140.4000\",\r\n      \"2. high\": \"140.4400\",\r\n      \"3. low\": \"140.2600\",\r\n      \"4. close\": \"140.3200\",\r\n      \"5. volume\": \"103898\"\r\n    },\r\n    \"2023-10-11 14:50:00\": {\r\n      \"1. open\": \"140.4100\",\r\n      \"2. high\": \"140.4500\",\r\n      \"3. low\": \"140.2980\",\r\n      \"4. close\": \"140.4000\",\r\n      \"5. volume\": \"136731\"\r\n    },\r\n    \"2023-10-11 14:45:00\": {\r\n      \"1. open\": \"140.6800\",\r\n      \"2. high\": \"140.7100\",\r\n      \"3. low\": \"140.3200\",\r\n      \"4. close\": \"140.4100\",\r\n      \"5. volume\": \"241468\"\r\n    },\r\n    \"2023-10-11 14:40:00\": {\r\n      \"1. open\": \"140.4500\",\r\n      \"2. high\": \"140.6950\",\r\n      \"3. low\": \"140.4310\",\r\n      \"4. close\": \"140.6900\",\r\n      \"5. volume\": \"323873\"\r\n    },\r\n    \"2023-10-11 14:35:00\": {\r\n      \"1. open\": \"140.3300\",\r\n      \"2. high\": \"140.5200\",\r\n      \"3. low\": \"140.3300\",\r\n      \"4. close\": \"140.4600\",\r\n      \"5. volume\": \"151504\"\r\n    },\r\n    \"2023-10-11 14:30:00\": {\r\n      \"1. open\": \"140.3000\",\r\n      \"2. high\": \"140.4300\",\r\n      \"3. low\": \"140.2500\",\r\n      \"4. close\": \"140.3300\",\r\n      \"5. volume\": \"247028\"\r\n    },\r\n    \"2023-10-11 14:25:00\": {\r\n      \"1. open\": \"140.5100\",\r\n      \"2. high\": \"140.6100\",\r\n      \"3. low\": \"140.2400\",\r\n      \"4. close\": \"140.3000\",\r\n      \"5. volume\": \"261271\"\r\n    },\r\n    \"2023-10-11 14:20:00\": {\r\n      \"1. open\": \"140.1100\",\r\n      \"2. high\": \"140.5200\",\r\n      \"3. low\": \"140.1100\",\r\n      \"4. close\": \"140.5100\",\r\n      \"5. volume\": \"244532\"\r\n    },\r\n    \"2023-10-11 14:15:00\": {\r\n      \"1. open\": \"140.0200\",\r\n      \"2. high\": \"140.2100\",\r\n      \"3. low\": \"140.0200\",\r\n      \"4. close\": \"140.1300\",\r\n      \"5. volume\": \"159596\"\r\n    },\r\n    \"2023-10-11 14:10:00\": {\r\n      \"1. open\": \"140.0000\",\r\n      \"2. high\": \"140.1800\",\r\n      \"3. low\": \"139.9800\",\r\n      \"4. close\": \"140.0100\",\r\n      \"5. volume\": \"160900\"\r\n    },\r\n    \"2023-10-11 14:05:00\": {\r\n      \"1. open\": \"139.8900\",\r\n      \"2. high\": \"140.1300\",\r\n      \"3. low\": \"139.8800\",\r\n      \"4. close\": \"140.0090\",\r\n      \"5. volume\": \"176672\"\r\n    },\r\n    \"2023-10-11 14:00:00\": {\r\n      \"1. open\": \"139.8700\",\r\n      \"2. high\": \"140.0670\",\r\n      \"3. low\": \"139.8100\",\r\n      \"4. close\": \"139.9100\",\r\n      \"5. volume\": \"210040\"\r\n    },\r\n    \"2023-10-11 13:55:00\": {\r\n      \"1. open\": \"139.8100\",\r\n      \"2. high\": \"139.9100\",\r\n      \"3. low\": \"139.7500\",\r\n      \"4. close\": \"139.8700\",\r\n      \"5. volume\": \"112370\"\r\n    },\r\n    \"2023-10-11 13:50:00\": {\r\n      \"1. open\": \"139.5000\",\r\n      \"2. high\": \"139.8200\",\r\n      \"3. low\": \"139.5000\",\r\n      \"4. close\": \"139.8100\",\r\n      \"5. volume\": \"126866\"\r\n    },\r\n    \"2023-10-11 13:45:00\": {\r\n      \"1. open\": \"139.5850\",\r\n      \"2. high\": \"139.6150\",\r\n      \"3. low\": \"139.4800\",\r\n      \"4. close\": \"139.4950\",\r\n      \"5. volume\": \"119788\"\r\n    },\r\n    \"2023-10-11 13:40:00\": {\r\n      \"1. open\": \"139.4500\",\r\n      \"2. high\": \"139.6300\",\r\n      \"3. low\": \"139.4500\",\r\n      \"4. close\": \"139.5850\",\r\n      \"5. volume\": \"158868\"\r\n    },\r\n    \"2023-10-11 13:35:00\": {\r\n      \"1. open\": \"139.6700\",\r\n      \"2. high\": \"139.6700\",\r\n      \"3. low\": \"139.4400\",\r\n      \"4. close\": \"139.4500\",\r\n      \"5. volume\": \"300516\"\r\n    },\r\n    \"2023-10-11 13:30:00\": {\r\n      \"1. open\": \"139.7950\",\r\n      \"2. high\": \"139.7950\",\r\n      \"3. low\": \"139.6400\",\r\n      \"4. close\": \"139.6700\",\r\n      \"5. volume\": \"87409\"\r\n    },\r\n    \"2023-10-11 13:25:00\": {\r\n      \"1. open\": \"139.8200\",\r\n      \"2. high\": \"139.8650\",\r\n      \"3. low\": \"139.7400\",\r\n      \"4. close\": \"139.7950\",\r\n      \"5. volume\": \"215173\"\r\n    },\r\n    \"2023-10-11 13:20:00\": {\r\n      \"1. open\": \"139.7000\",\r\n      \"2. high\": \"139.8780\",\r\n      \"3. low\": \"139.6800\",\r\n      \"4. close\": \"139.8200\",\r\n      \"5. volume\": \"121915\"\r\n    },\r\n    \"2023-10-11 13:15:00\": {\r\n      \"1. open\": \"140.0500\",\r\n      \"2. high\": \"140.0600\",\r\n      \"3. low\": \"139.6900\",\r\n      \"4. close\": \"139.7200\",\r\n      \"5. volume\": \"135665\"\r\n    },\r\n    \"2023-10-11 13:10:00\": {\r\n      \"1. open\": \"139.9600\",\r\n      \"2. high\": \"140.0650\",\r\n      \"3. low\": \"139.9050\",\r\n      \"4. close\": \"140.0600\",\r\n      \"5. volume\": \"109834\"\r\n    },\r\n    \"2023-10-11 13:05:00\": {\r\n      \"1. open\": \"139.9200\",\r\n      \"2. high\": \"139.9900\",\r\n      \"3. low\": \"139.8900\",\r\n      \"4. close\": \"139.9750\",\r\n      \"5. volume\": \"108193\"\r\n    },\r\n    \"2023-10-11 13:00:00\": {\r\n      \"1. open\": \"140.0200\",\r\n      \"2. high\": \"140.0280\",\r\n      \"3. low\": \"139.8000\",\r\n      \"4. close\": \"139.9200\",\r\n      \"5. volume\": \"199539\"\r\n    },\r\n    \"2023-10-11 12:55:00\": {\r\n      \"1. open\": \"139.7400\",\r\n      \"2. high\": \"140.0500\",\r\n      \"3. low\": \"139.6900\",\r\n      \"4. close\": \"140.0200\",\r\n      \"5. volume\": \"226091\"\r\n    },\r\n    \"2023-10-11 12:50:00\": {\r\n      \"1. open\": \"139.9630\",\r\n      \"2. high\": \"139.9800\",\r\n      \"3. low\": \"139.6700\",\r\n      \"4. close\": \"139.7300\",\r\n      \"5. volume\": \"163571\"\r\n    },\r\n    \"2023-10-11 12:45:00\": {\r\n      \"1. open\": \"140.0320\",\r\n      \"2. high\": \"140.0700\",\r\n      \"3. low\": \"139.9400\",\r\n      \"4. close\": \"139.9600\",\r\n      \"5. volume\": \"236667\"\r\n    },\r\n    \"2023-10-11 12:40:00\": {\r\n      \"1. open\": \"140.1250\",\r\n      \"2. high\": \"140.1800\",\r\n      \"3. low\": \"139.9640\",\r\n      \"4. close\": \"140.0350\",\r\n      \"5. volume\": \"145873\"\r\n    },\r\n    \"2023-10-11 12:35:00\": {\r\n      \"1. open\": \"140.0700\",\r\n      \"2. high\": \"140.1750\",\r\n      \"3. low\": \"139.9850\",\r\n      \"4. close\": \"140.1300\",\r\n      \"5. volume\": \"155666\"\r\n    },\r\n    \"2023-10-11 12:30:00\": {\r\n      \"1. open\": \"140.0400\",\r\n      \"2. high\": \"140.2200\",\r\n      \"3. low\": \"140.0000\",\r\n      \"4. close\": \"140.0500\",\r\n      \"5. volume\": \"244856\"\r\n    },\r\n    \"2023-10-11 12:25:00\": {\r\n      \"1. open\": \"139.9400\",\r\n      \"2. high\": \"140.1100\",\r\n      \"3. low\": \"139.9200\",\r\n      \"4. close\": \"140.0300\",\r\n      \"5. volume\": \"183638\"\r\n    },\r\n    \"2023-10-11 12:20:00\": {\r\n      \"1. open\": \"139.7190\",\r\n      \"2. high\": \"139.9500\",\r\n      \"3. low\": \"139.5950\",\r\n      \"4. close\": \"139.9500\",\r\n      \"5. volume\": \"243655\"\r\n    },\r\n    \"2023-10-11 12:15:00\": {\r\n      \"1. open\": \"139.9400\",\r\n      \"2. high\": \"139.9800\",\r\n      \"3. low\": \"139.6400\",\r\n      \"4. close\": \"139.7150\",\r\n      \"5. volume\": \"293543\"\r\n    },\r\n    \"2023-10-11 12:10:00\": {\r\n      \"1. open\": \"139.9100\",\r\n      \"2. high\": \"139.9860\",\r\n      \"3. low\": \"139.7200\",\r\n      \"4. close\": \"139.9400\",\r\n      \"5. volume\": \"253299\"\r\n    },\r\n    \"2023-10-11 12:05:00\": {\r\n      \"1. open\": \"139.9100\",\r\n      \"2. high\": \"139.9400\",\r\n      \"3. low\": \"139.7650\",\r\n      \"4. close\": \"139.9200\",\r\n      \"5. volume\": \"176291\"\r\n    },\r\n    \"2023-10-11 12:00:00\": {\r\n      \"1. open\": \"140.2080\",\r\n      \"2. high\": \"140.2100\",\r\n      \"3. low\": \"139.8300\",\r\n      \"4. close\": \"139.9100\",\r\n      \"5. volume\": \"327584\"\r\n    },\r\n    \"2023-10-11 11:55:00\": {\r\n      \"1. open\": \"140.2800\",\r\n      \"2. high\": \"140.2800\",\r\n      \"3. low\": \"140.0110\",\r\n      \"4. close\": \"140.2120\",\r\n      \"5. volume\": \"241950\"\r\n    },\r\n    \"2023-10-11 11:50:00\": {\r\n      \"1. open\": \"140.2300\",\r\n      \"2. high\": \"140.5000\",\r\n      \"3. low\": \"140.1600\",\r\n      \"4. close\": \"140.2950\",\r\n      \"5. volume\": \"197274\"\r\n    },\r\n    \"2023-10-11 11:45:00\": {\r\n      \"1. open\": \"140.2400\",\r\n      \"2. high\": \"140.3400\",\r\n      \"3. low\": \"140.2020\",\r\n      \"4. close\": \"140.2200\",\r\n      \"5. volume\": \"213874\"\r\n    },\r\n    \"2023-10-11 11:40:00\": {\r\n      \"1. open\": \"140.3300\",\r\n      \"2. high\": \"140.3300\",\r\n      \"3. low\": \"140.1900\",\r\n      \"4. close\": \"140.2400\",\r\n      \"5. volume\": \"163030\"\r\n    }\r\n  }\r\n}";
            _chartManager.DisplayStockDataJson(JsonString);
            labelTimeZone.Text = "";
            labelSymbol.Text = "";
            labelInformation.Text = "";
            labelLastRefreshed.Text = "";
            //Labels Are empty as JSON isnt fetching from API


            ShowStockDataPanel();
        }
    }
}
